&nbsp;Add Precleaning bin module to the existing application



**Bin Entity**



Fields: id, name, identity\_number (user-set), capacity, current\_quantity



**MagnetMaster Entity**



Fields: id, name, description



**RouteMagnet Mapping**



Fields: id, magnet\_id (FK), source\_godown\_id (FK), destination\_bin\_id (FK), cleaning\_interval\_hours (default 3)



**MagnetCleaningRecord**



Records every instance when a magnet cleaning is performed



Fields:



id



magnet\_id (FK)



cleaning\_timestamp (datetime)



before cleaning photo



after cleaning photo



notes (optional for operator input)





**TransferSession Entity**



Tracks each transfer from godown to bin



Fields:



id



source\_godown\_id (FK)



destination\_bin\_id (FK)



start\_timestamp



stop\_timestamp (nullable until stop)



transferred\_quantity (nullable until stop)



status (e.g., active, completed, cancelled)





**Functional Workflow Enhancements**

**When starting a transfer:**



Create a new TransferSession with start\_timestamp



Retrieve magnets from RouteMagnet based on source and destination



Start scheduled reminder timers per magnet according to their cleaning\_interval\_hours



When a magnet cleaning occurs:



Log an entry in MagnetCleaningRecord with magnet\_id, current timestamp, linked transfer\_id and photos



This creates traceable cleaning history tied to transfers



When stopping a transfer:



Update TransferSession with stop\_timestamp and transferred\_quantity



Adjust quantities in the source godown and destination bin accordingly



Stop all cleaning reminders linked to this transfer session



3\. Traceability \& Reporting

Link magnet cleaning records to specific transfer sessions for audit and traceability



Generate reports showing:



Cleaning history per magnet, route, or transfer session



Transfer details with timestamps and quantities moved



With this, operators and auditors can track exactly when magnets along transfer routes were cleaned relative to transfers



4\. System Design Notes

Use timestamps with timezone awareness (UTC recommended)



Make magnet cleaning logs immutable for audit trails



Design reminders to reset with each transfer start; no reminders once transfer ends



Provide admin interfaces to view and manage:



Magnet masters



Route configurations



Transfer sessions and their statuses



Magnet cleaning logs linked with transfers

